{"ast":null,"code":"import _defineProperty from\"C:/Users/Siva/Desktop/react/ecommerce/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Siva/Desktop/react/ecommerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Siva/Desktop/react/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState}from'react';import{PRODUCTS}from'../products';import{jsx as _jsx}from\"react/jsx-runtime\";export var ShopContext=/*#__PURE__*/createContext(null);var getDefaultCart=function getDefaultCart(){var cart={};for(var i=1;i<PRODUCTS.length+1;i++){cart[i]=0;}return cart;};export var ShopContextProvider=function ShopContextProvider(props){var _useState=useState(getDefaultCart()),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var getTotalCartAmount=function getTotalCartAmount(){var totalAmount=0;var _loop=function _loop(item){if(cartItems[item]>0){var itemInfo=PRODUCTS.find(function(product){return product.id===Number(item);});totalAmount+=cartItems[item]*itemInfo.price;}};for(var item in cartItems){_loop(item);}return totalAmount;};var addToCart=function addToCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]+1));});};var removeFromCart=function removeFromCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]-1));});};var updateCartItemCount=function updateCartItemCount(newAmount,itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,newAmount));});};var contextValues={cartItems:cartItems,addToCart:addToCart,removeFromCart:removeFromCart,updateCartItemCount:updateCartItemCount,getTotalCartAmount:getTotalCartAmount};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValues,children:props.children});};","map":{"version":3,"names":["React","createContext","useState","PRODUCTS","jsx","_jsx","ShopContext","getDefaultCart","cart","i","length","ShopContextProvider","props","_useState","_useState2","_slicedToArray","cartItems","setCartItems","getTotalCartAmount","totalAmount","_loop","item","itemInfo","find","product","id","Number","price","addToCart","itemId","prev","_objectSpread","_defineProperty","removeFromCart","updateCartItemCount","newAmount","contextValues","Provider","value","children"],"sources":["C:/Users/Siva/Desktop/react/ecommerce/src/context/shop-context.jsx"],"sourcesContent":["import React, { createContext, useState } from 'react';\r\nimport {PRODUCTS} from '../products';\r\n\r\nexport const ShopContext=createContext(null);\r\n\r\nconst getDefaultCart=()=>{\r\n    let cart={};\r\n    for(let i=1;i<PRODUCTS.length+1;i++){\r\n        cart[i]=0;\r\n    }\r\n    return cart;\r\n}\r\n\r\nexport const ShopContextProvider = (props) => {\r\n    const [cartItems,setCartItems]=useState(getDefaultCart());\r\n    const getTotalCartAmount=()=>{\r\n        let totalAmount=0;\r\n        for(const item in cartItems){\r\n            if(cartItems[item]>0){\r\n                let itemInfo=PRODUCTS.find((product)=>product.id===Number(item));\r\n                totalAmount+=cartItems[item]*itemInfo.price;\r\n            }\r\n        }\r\n        return totalAmount;\r\n    }\r\n\r\n    const addToCart=(itemId)=>{\r\n        setCartItems((prev)=>({...prev,[itemId]:prev[itemId]+1}));\r\n    }\r\n\r\n    const removeFromCart=(itemId)=>{\r\n        setCartItems((prev)=>({...prev,[itemId]:prev[itemId]-1}));\r\n    }\r\n\r\n    const updateCartItemCount=(newAmount,itemId)=>{\r\n        setCartItems((prev)=>({...prev,[itemId]:newAmount}));\r\n    }\r\n\r\n    const contextValues={cartItems,addToCart,removeFromCart,updateCartItemCount,getTotalCartAmount};\r\n\r\n  return (\r\n    <ShopContext.Provider value={contextValues}>{props.children}</ShopContext.Provider>\r\n  )\r\n}\r\n\r\n\r\n"],"mappings":"kXAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CACtD,OAAQC,QAAQ,KAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErC,MAAO,IAAM,CAAAC,WAAW,cAACL,aAAa,CAAC,IAAI,CAAC,CAE5C,GAAM,CAAAM,cAAc,CAAC,QAAf,CAAAA,cAAcA,CAAA,CAAK,CACrB,GAAI,CAAAC,IAAI,CAAC,CAAC,CAAC,CACX,IAAI,GAAI,CAAAC,CAAC,CAAC,CAAC,CAACA,CAAC,CAACN,QAAQ,CAACO,MAAM,CAAC,CAAC,CAACD,CAAC,EAAE,CAAC,CAChCD,IAAI,CAACC,CAAC,CAAC,CAAC,CAAC,CACb,CACA,MAAO,CAAAD,IAAI,CACf,CAAC,CAED,MAAO,IAAM,CAAAG,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAIC,KAAK,CAAK,CAC1C,IAAAC,SAAA,CAA+BX,QAAQ,CAACK,cAAc,CAAC,CAAC,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlDG,SAAS,CAAAF,UAAA,IAACG,YAAY,CAAAH,UAAA,IAC7B,GAAM,CAAAI,kBAAkB,CAAC,QAAnB,CAAAA,kBAAkBA,CAAA,CAAK,CACzB,GAAI,CAAAC,WAAW,CAAC,CAAC,CAAC,IAAAC,KAAA,UAAAA,MAAAC,IAAA,CACU,CACxB,GAAGL,SAAS,CAACK,IAAI,CAAC,CAAC,CAAC,CAAC,CACjB,GAAI,CAAAC,QAAQ,CAACnB,QAAQ,CAACoB,IAAI,CAAC,SAACC,OAAO,QAAG,CAAAA,OAAO,CAACC,EAAE,GAAGC,MAAM,CAACL,IAAI,CAAC,GAAC,CAChEF,WAAW,EAAEH,SAAS,CAACK,IAAI,CAAC,CAACC,QAAQ,CAACK,KAAK,CAC/C,CACJ,CAAC,CALD,IAAI,GAAM,CAAAN,IAAI,GAAI,CAAAL,SAAS,EAAAI,KAAA,CAAAC,IAAA,GAM3B,MAAO,CAAAF,WAAW,CACtB,CAAC,CAED,GAAM,CAAAS,SAAS,CAAC,QAAV,CAAAA,SAASA,CAAEC,MAAM,CAAG,CACtBZ,YAAY,CAAC,SAACa,IAAI,SAAAC,aAAA,CAAAA,aAAA,IAAQD,IAAI,KAAAE,eAAA,IAAEH,MAAM,CAAEC,IAAI,CAACD,MAAM,CAAC,CAAC,CAAC,IAAE,CAAC,CAC7D,CAAC,CAED,GAAM,CAAAI,cAAc,CAAC,QAAf,CAAAA,cAAcA,CAAEJ,MAAM,CAAG,CAC3BZ,YAAY,CAAC,SAACa,IAAI,SAAAC,aAAA,CAAAA,aAAA,IAAQD,IAAI,KAAAE,eAAA,IAAEH,MAAM,CAAEC,IAAI,CAACD,MAAM,CAAC,CAAC,CAAC,IAAE,CAAC,CAC7D,CAAC,CAED,GAAM,CAAAK,mBAAmB,CAAC,QAApB,CAAAA,mBAAmBA,CAAEC,SAAS,CAACN,MAAM,CAAG,CAC1CZ,YAAY,CAAC,SAACa,IAAI,SAAAC,aAAA,CAAAA,aAAA,IAAQD,IAAI,KAAAE,eAAA,IAAEH,MAAM,CAAEM,SAAS,IAAE,CAAC,CACxD,CAAC,CAED,GAAM,CAAAC,aAAa,CAAC,CAACpB,SAAS,CAATA,SAAS,CAACY,SAAS,CAATA,SAAS,CAACK,cAAc,CAAdA,cAAc,CAACC,mBAAmB,CAAnBA,mBAAmB,CAAChB,kBAAkB,CAAlBA,kBAAkB,CAAC,CAEjG,mBACEb,IAAA,CAACC,WAAW,CAAC+B,QAAQ,EAACC,KAAK,CAAEF,aAAc,CAAAG,QAAA,CAAE3B,KAAK,CAAC2B,QAAQ,CAAuB,CAAC,CAEvF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}